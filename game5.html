<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Game 6 - Enemy Shooter</title>
<link rel="stylesheet" href="style.css">
<style>
body { text-align: center; margin:0; font-family: 'Inter', sans-serif; background:#222; color:white; }
canvas { background:#111; margin-top:20px; border-radius:10px; }
#scoreText { font-size:1.5rem; margin-top:10px; }
.home-link { display:inline-block; margin-top:10px; font-size:1.2rem; color:white; text-decoration:none; transition:0.3s; }
.home-link:hover { color:#2575fc; }
</style>
</head>
<body>
<header>
<h1>Game 6: Enemy Shooter!</h1>
</header>
<main>
<canvas id="gameCanvas" width="350" height="500"></canvas>
<p id="scoreText">Score: 0</p>
<a href="index.html" class="home-link">üè†</a>
</main>

<script>
const canvas = document.getElementById('gameCanvas');
const ctx = canvas.getContext('2d');

const player = { x: 160, y: 450, w: 30, h: 30, speed:5, color:'blue' };
let bullets = [];
let enemies = [];
let score = 0;
let frame = 0;

// Controls
const keys = {};
document.addEventListener('keydown', e=>keys[e.key]=true);
document.addEventListener('keyup', e=>keys[e.key]=false);

// Shooting bullets
function shoot(){
  bullets.push({x:player.x+player.w/2-2, y:player.y, w:4, h:10, color:'yellow'});
}

// Generate enemies
function generateEnemy(){
  const x = Math.random()*(canvas.width-30);
  enemies.push({x:x, y:-30, w:30, h:30, color:'red'});
}

// Update game objects
function update(){
  // Move player
  if(keys['ArrowLeft'] && player.x>0) player.x -= player.speed;
  if(keys['ArrowRight'] && player.x+player.w<canvas.width) player.x += player.speed;
  if(keys[' '] || keys['Spacebar']) shoot();

  // Move bullets
  bullets.forEach(b=>b.y -=7);

  // Move enemies
  enemies.forEach(e=>e.y +=3);

  // Bullet-Enemy collisions
  bullets.forEach((b,i)=>{
    enemies.forEach((e,j)=>{
      if(b.x<b.x+e.w && b.x+b.w>e.x && b.y<b.y+e.h && b.y+b.h>e.y){
        bullets.splice(i,1);
        enemies.splice(j,1);
        score++;
        document.getElementById('scoreText').textContent = 'Score: '+score;
      }
    });
  });

  // Remove offscreen bullets
  bullets = bullets.filter(b=>b.y>0);
  // Check if enemy reaches bottom
  enemies.forEach(e=>{
    if(e.y+e.h >= canvas.height){
      alert('Game Over! Score: '+score);
      window.location.reload();
    }
  });

  // Spawn enemies periodically
  frame++;
  if(frame%60===0) generateEnemy();
}

// Draw everything
function draw(){
  ctx.clearRect(0,0,canvas.width,canvas.height);
  // Player
  ctx.fillStyle=player.color;
  ctx.fillRect(player.x,player.y,player.w,player.h);
  // Bullets
  bullets.forEach(b=>{
    ctx.fillStyle=b.color;
    ctx.fillRect(b.x,b.y,b.w,b.h);
  });
  // Enemies
  enemies.forEach(e=>{
    ctx.fillStyle=e.color;
    ctx.fillRect(e.x,e.y,e.w,e.h);
  });
}

// Game loop
function loop(){
  update();
  draw();
  requestAnimationFrame(loop);
}

loop();
</script>
</body>
</html>
